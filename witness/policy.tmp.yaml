expires: "2022-12-17T23:57:40-05:00"
steps:
  commit:
    name: commit
    attestations:
      - type: https://witness.dev/attestations/product/v0.1
      - type: https://witness.dev/attestations/product/v0.1
    functionaries:
      - type: root
        certConstraint:
          commonname: "*"
          dnsnames:
            - "*"
          emails:
            - "cole@testifysec.com"
            - "colek42@gmail.com"
          organizations:
            - "*"
          uris:
            - "*"
          roots:
            - "3ba7b6cc4e95469d4d334b49cb257ad8537076fa84b0ca87ff4ecfe6a54680c1"
  clone:
    name: clone
    artifactsFrom:
      - commit
    attestations:
      - type: https://witness.dev/attestations/material/v0.1
      - type: https://witness.dev/attestations/product/v0.1
      - type: https://witness.dev/attestations/command-run/v0.1
      - type: https://witness.dev/attestations/gitlab/v0.1
        regoPolicies:
          - name: "gitlab"
            module: "cGFja2FnZSBnaXRsYWJfZGVtbwoKCmRlbnlbbXNnXXsgIAogICAgaW5wdXQuand0LmNsYWltcy5pc3MgIT0gImdpdGxhYi5jb20iCiAgICBtc2cgPSAiaXNzdWVyIGlzIG5vdCBnaXRsYWIuY29tIgp9"
      - type: https://witness.dev/attestations/gcp-iit/v0.1
        regoPolicies:
          - name: "gcp-iit"
            module: "cGFja2FnZSBnY3BfZGVtbwoKZGVueVttc2ddewogICAgaW5wdXQucHJvamVjdF9pZCAhPSAiMzI0MzIyIgogICAgbXNnID0gIlByb2plY3QgSUQgaXMgbm90IGNvcnJlY3QiCgp9CgpkZW55W21zZ117CiAgICBpbnB1dC5jbHVzdGVyX2xvY2F0aW9uICE9ICJ1cy1lYXN0MS1iIgogICAgbXNnID0gIkNsdXN0ZXIgbG9jYXRpb24gaXMgbm90IGNvcnJlY3QiCn0KCmRlbnlbbXNnXXsKICAgIGlucHV0Lmp3dC5jbGFpbXMuaXNzICE9ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iCiAgICBtc2cgPSAiSldUIGlzc3VlciBpcyBub3QgY29ycmVjdCIKfQoK"
    functionaries:
      - type: root
        certConstraint:
          commonname: "*"
          dnsnames:
            - "*"
          emails:
            - "*"
          organizations:
            - "*"
          uris:
            - "spiffe://dev.testifysec.com/witness-demo/builder"
          roots:
            - "bc528aa5c6af42790e2e1d977bc0b1b7dcd15e2e93ea0d8029a46fc9b73a53a1"
  deps:
    name: deps
    artifactsFrom:
      - clone
    attestations:
      - type: https://witness.dev/attestations/material/v0.1
      - type: https://witness.dev/attestations/product/v0.1
      - type: https://witness.dev/attestations/command-run/v0.1
      - type: https://witness.dev/attestations/gitlab/v0.1
        regoPolicies:
          - name: "gitlab"
            module: "cGFja2FnZSBnaXRsYWJfZGVtbwoKCmRlbnlbbXNnXXsgIAogICAgaW5wdXQuand0LmNsYWltcy5pc3MgIT0gImdpdGxhYi5jb20iCiAgICBtc2cgPSAiaXNzdWVyIGlzIG5vdCBnaXRsYWIuY29tIgp9"
      - type: https://witness.dev/attestations/gcp-iit/v0.1
        regoPolicies:
          - name: "gcp-iit"
            module: "cGFja2FnZSBnY3BfZGVtbwoKZGVueVttc2ddewogICAgaW5wdXQucHJvamVjdF9pZCAhPSAiMzI0MzIyIgogICAgbXNnID0gIlByb2plY3QgSUQgaXMgbm90IGNvcnJlY3QiCgp9CgpkZW55W21zZ117CiAgICBpbnB1dC5jbHVzdGVyX2xvY2F0aW9uICE9ICJ1cy1lYXN0MS1iIgogICAgbXNnID0gIkNsdXN0ZXIgbG9jYXRpb24gaXMgbm90IGNvcnJlY3QiCn0KCmRlbnlbbXNnXXsKICAgIGlucHV0Lmp3dC5jbGFpbXMuaXNzICE9ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iCiAgICBtc2cgPSAiSldUIGlzc3VlciBpcyBub3QgY29ycmVjdCIKfQoK"
    functionaries:
      - type: root
        certConstraint:
          commonname: "*"
          dnsnames:
            - "*"
          emails:
            - "*"
          organizations:
            - "*"
          uris:
            - "spiffe://dev.testifysec.com/witness-demo/builder"
          roots:
            - "bc528aa5c6af42790e2e1d977bc0b1b7dcd15e2e93ea0d8029a46fc9b73a53a1"
  build:
    name: build
    artifactsFrom:
      - deps
    attestations:
      - type: https://witness.dev/attestations/material/v0.1
      - type: https://witness.dev/attestations/product/v0.1
      - type: https://witness.dev/attestations/command-run/v0.1
      - type: https://witness.dev/attestations/git/v0.1
      - type: https://witness.dev/attestations/gitlab/v0.1
        regoPolicies:
          - name: "gitlab"
            module: "cGFja2FnZSBnaXRsYWJfZGVtbwoKCmRlbnlbbXNnXXsgIAogICAgaW5wdXQuand0LmNsYWltcy5pc3MgIT0gImdpdGxhYi5jb20iCiAgICBtc2cgPSAiaXNzdWVyIGlzIG5vdCBnaXRsYWIuY29tIgp9"
      - type: https://witness.dev/attestations/gcp-iit/v0.1
        regoPolicies:
          - name: "gcp-iit"
            module: "cGFja2FnZSBnY3BfZGVtbwoKZGVueVttc2ddewogICAgaW5wdXQucHJvamVjdF9pZCAhPSAiMzI0MzIyIgogICAgbXNnID0gIlByb2plY3QgSUQgaXMgbm90IGNvcnJlY3QiCgp9CgpkZW55W21zZ117CiAgICBpbnB1dC5jbHVzdGVyX2xvY2F0aW9uICE9ICJ1cy1lYXN0MS1iIgogICAgbXNnID0gIkNsdXN0ZXIgbG9jYXRpb24gaXMgbm90IGNvcnJlY3QiCn0KCmRlbnlbbXNnXXsKICAgIGlucHV0Lmp3dC5jbGFpbXMuaXNzICE9ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iCiAgICBtc2cgPSAiSldUIGlzc3VlciBpcyBub3QgY29ycmVjdCIKfQoK"
    functionaries:
      - type: root
        certConstraint:
          commonname: "*"
          dnsnames:
            - "*"
          emails:
            - "*"
          organizations:
            - "*"
          uris:
            - "spiffe://dev.testifysec.com/witness-demo/builder"
          roots:
            - "bc528aa5c6af42790e2e1d977bc0b1b7dcd15e2e93ea0d8029a46fc9b73a53a1"
roots:
  "bc528aa5c6af42790e2e1d977bc0b1b7dcd15e2e93ea0d8029a46fc9b73a53a1":
    certificate: |-
      LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWVENDQWoyZ0F3SUJBZ0lVQU13V3ZzSnVn
      bUFnWW4vRDEzSk1zM3YrZEdFd0RRWUpLb1pJaHZjTkFRRUwKQlFBd01qRVRNQkVHQTFVRUNoTUtW
      R1Z6ZEdsbWVWTmxZekViTUJrR0ExVUVBeE1TWkdWMkxuUmxjM1JwWm5segpaV011WTI5dE1CNFhE
      VEl4TURreU56SXdOVEF3T1ZvWERUTXhNRGt5TlRJd05UQXdPRm93TWpFVE1CRUdBMVVFCkNoTUtW
      R1Z6ZEdsbWVWTmxZekViTUJrR0ExVUVBeE1TWkdWMkxuUmxjM1JwWm5selpXTXVZMjl0TUlJQklq
      QU4KQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBbGtzOGV1Y2FmQktFZ21WTnFi
      d1FCTHZlcUpxMQp3WWFrajYyYkt5UG5CVEZGM0wrb1lta2Nua0YySm9iSnBUdGNRSmV2MGhxcWZr
      R0toSDdJQ1VaUmtYbnFTUldXCjZ3QWpVL2E2UnE5YkIxTENQM05CUm41cXV4bWNSMjUwcHZoejYy
      cGtrNDJUajRrNjlISTBRQlI5eWpTcjA5cmoKUGRTQVBZdDdIaXV1NnZjRVlZRXlQclNYQjdGSGdY
      TEtoUnJSdW56UEVCSFdHL212YWs2OHhRZ1ZUZDMyNWpMbgpvT3J6R3IzNFNFaVM4cnlHOHVPOUY2
      T0tKc21aZ0ExbmhCUlVkbGYyc0Y1SXpFUUUxa0NvSG92MENpV2hsK3BlCitkOXhUYWFjaVlSaFpR
      eUJaaG9IaUwwREc1OG1qNFVUOWRJVXVEWWc1Z1YwQmdjaEF3ZFVmQW0zZ3dJREFRQUIKbzJNd1lU
      QU9CZ05WSFE4QkFmOEVCQU1DQVFZd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFRmdR
      VQp2bUU5WlByK0tmbnYwS2VHK0FIbm9kZGNvLzB3SHdZRFZSMGpCQmd3Rm9BVXZtRTlaUHIrS2Zu
      djBLZUcrQUhuCm9kZGNvLzB3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUVLYzJQVnhOTElRbkl3
      RC9qTW8zZ2RKeVlZK2FSSW8KbGZBQ3pNU2xRNVpHcG1zUWN6c05WamJBUWtsMCtxblFuVWtQUGNR
      V2xpNWt0dWZQMGZkTDZVSGUxQVMzYy9tMAppclYxaEJ0L0JzWnpOUTc2NTVFV1VqcW8yVVZSMnA0
      S1NXek9tV1JrVWY5aER5dktuOXZITzl4RjFtZUMzZDUyCmM4L0JuZ3FGRWJhTEVuek5jdU13czdO
      cVpYY2tBYVloQWpRcWJOVTJ0Zi9XTkp2RjlLS21sZldwb3IvMmZQQkYKakVwRTNyUk1sWWhrM0hH
      ZzNNRkxZWGY0UmtvVmFCa3piMHd5cEJCZ29kcExNdENSMmVWR3JxZ25jQnJ5TkpiaApGUUo5eG1U
      Vmt1YzhaUTh5d3lxVDNUVHRkQzE4UVI2MGlPdFo4bkdvQXNmMGJNUG43dUpFRTU0PQotLS0tLUVO
      RCBDRVJUSUZJQ0FURS0tLS0t
  "3ba7b6cc4e95469d4d334b49cb257ad8537076fa84b0ca87ff4ecfe6a54680c1":
    certificate: |-
      LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUI5ekNDQVh5Z0F3SUJBZ0lVQUxaTkFQRmR4
      SFB3amVEbG9Ed3lZQ2hBTy80d0NnWUlLb1pJemowRUF3TXcKS2pFVk1CTUdBMVVFQ2hNTWMybG5j
      M1J2Y21VdVpHVjJNUkV3RHdZRFZRUURFd2h6YVdkemRHOXlaVEFlRncweQpNVEV3TURjeE16VTJO
      VGxhRncwek1URXdNRFV4TXpVMk5UaGFNQ294RlRBVEJnTlZCQW9UREhOcFozTjBiM0psCkxtUmxk
      akVSTUE4R0ExVUVBeE1JYzJsbmMzUnZjbVV3ZGpBUUJnY3Foa2pPUFFJQkJnVXJnUVFBSWdOaUFB
      VDcKWGVGVDRyYjNQUUd3UzRJYWp0TGszL09sbnBnYW5nYUJjbFlwc1lCcjVpKzR5bkIwN2NlYjNM
      UDBPSU9aZHhleApYNjljNWlWdXlKUlErSHowNXlpK1VGM3VCV0FsSHBpUzVzaDArSDJHSEU3U1hy
      azFFQzVtMVRyMTlMOWdnOTJqCll6QmhNQTRHQTFVZER3RUIvd1FFQXdJQkJqQVBCZ05WSFJNQkFm
      OEVCVEFEQVFIL01CMEdBMVVkRGdRV0JCUlkKd0I1ZmtVV2xacWw2ekpDaGt5TFFLc1hGK2pBZkJn
      TlZIU01FR0RBV2dCUll3QjVma1VXbFpxbDZ6SkNoa3lMUQpLc1hGK2pBS0JnZ3Foa2pPUFFRREF3
      TnBBREJtQWpFQWoxbkhlWFpwKzEzTldCTmErRURzRFA4RzFXV2cxdENNCldQL1dIUHFwYVZvMGpo
      c3dlTkZaZ1NzMGVFN3dZSTRxQWpFQTJXQjlvdDk4c0lrb0YzdlpZZGQzL1Z0V0I1YjkKVE5NZWE3
      SXgvc3RKNVRmY0xMZUFCTEU0Qk5KT3NRNHZuQkhKCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0=
